<section
  class="col-12 ps-0 pe-0 d-flex flex-column justify-content-center align-items-center sectionProd"
  id="producto"
>
  <div class="box-title-contact text-center d-flex justify-content-center align-items-center">
    <h4 data-aos="fade-up sectionProd">Nuestros Productos</h4>
    <img src="assets/iconoHeader.svg" alt="icono" data-aos="zoom-in" />
  </div>

  <div class="sectionProd">

    <div class="d-flex selectStyles text-center" data-aos="fade-right">
  <h5 class="selectText all"
      [ngClass]="{ 'all-colour': filtro() === 'all' }"
      (click)="setFilter('all')">
    TODOS
  </h5>

  <h5 class="selectText all"
      [ngClass]="{ 'all-colour': filtro() === 'libreria' }"
      (click)="setFilter('libreria')">
    LIBRERÍA
  </h5>

  <h5 class="selectText all"
      [ngClass]="{ 'all-colour': filtro() === 'combos' }"
      (click)="setFilter('combos')">
    COMBOS
  </h5>

  <h5 class="selectText all"
      [ngClass]="{ 'all-colour': filtro() === 'jugueteria' }"
      (click)="setFilter('jugueteria')">
    JUGUETERÍA
  </h5>

  <h5 class="selectText all"
      [ngClass]="{ 'all-colour': filtro() === 'bazar' }"
      (click)="setFilter('bazar')">
    BAZAR
  </h5>
</div>

    <div id="contenedorProductos">
      <div id="cardsProductos" class="divProductos" data-aos="fade-right">
        <div class="product-card" *ngFor="let p of productosPaginados()">
            <!-- zona imagen -->
            <button
              type="button"
              class="product-media"
              (click)="openDetalle(p)"
              data-bs-toggle="modal"
              data-bs-target="#staticBackdrop"
              aria-label="Ver detalle"
            >
              <img class="product-img" [src]="p.img" [alt]="p.nombre" loading="lazy" />
            </button>

            <div class="product-divider"></div>

            <!-- textos -->
            <div class="product-body">
              <h5 class="product-title">{{ p.nombre }}</h5>
              <p class="product-subtitle">{{ p.descripcionCorta }}</p>
            </div>

            <!-- footer -->
            <div class="product-footer">
              <div class="product-price">{{ formatPrice(p.precio) }}</div>

              <button class="btnAdd" type="button" (click)="add(p)">
                AGREGAR
              </button>
            </div>
          </div>

        
      </div>
      <div class="d-flex justify-content-center align-items-center gap-2 mt-3" style="bottom: 20px;">
            <button class="btn btn-sm btn-outline-secondary"
                    type="button"
                    (click)="prevPage()"
                    [disabled]="page() === 0">
                Anterior
            </button>

            <span class="small text-muted">
                Página {{ page() + 1 }} / {{ totalPages() }}
            </span>

            <button class="btn btn-sm btn-outline-secondary"
                    type="button"
                    (click)="nextPage()"
                    [disabled]="page() + 1 >= totalPages()">
                Siguiente
            </button>
            </div>

    </div>
  </div>
  

  <!-- Modal detalle producto: lo deja tu ProductoModalComponent -->
  <div
    class="modal fade"
    id="staticBackdrop"
    data-bs-backdrop="static"
    tabindex="-1"
    role="dialog"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <button type="button" class="btn-close closeModal" data-bs-dismiss="modal" aria-label="Close"></button>
        <div class="modal-body tamañoModal">
          <!-- acá renderiza app-producto-modal (que lee store.selected) -->
          <app-producto-modal />
        </div>
      </div>
    </div>
  </div>
</section>
